<div class="w-full h-full grid grid-cols-3 gap-x-2 pl-4">
    <div class="col-span-2">
        <div class="flex flex-col h-full gap-y-3">
            <div class="grid grid-cols-4 gap-x-3">
                <div class="col-span-2 bg-white rounded-md p-4 flex flex-col gap-y-3">
                    <div class="flex items-center">
                        <h5 class="text-primary-dc text-sm font-medium">
                            Current Order Progress
                        </h5>
                    </div>
                   
                    <section class="flex flex-col gap-y-2">
                        <section class="flex flex-row items-center gap-x-3">
                            <section class="flex-1 flex items-center">
                                <p class="text-xs font-medium text-[#7C7C7C]">
                                    Orders Received
                                </p>
                                <span class="ml-auto p-1 bg-[#F4F4F4] text-sm font-medium text-[#000000]">
                                    {{dashboardData?.Table[0].OrderReceivedCount}}
                                </span>
                            </section>
                            <section class="flex-1 flex items-center">
                                <p class="text-xs font-medium text-[#7C7C7C]">
                                    Repacked
                                </p>
                                <span class="ml-auto p-1 bg-[#F4F4F4] text-sm font-medium text-[#000000]">
                                    {{dashboardData?.Table[0].RepackingCount}}
                                </span>
                            </section>
                        </section>
                        <section class="flex flex-row items-center gap-x-3">
                            <section class="flex-1 flex items-center">
                                <p class="text-xs font-medium text-[#7C7C7C]">
                                    Mismatched Orders
                                </p>
                                <span class="ml-auto p-1 bg-[#F4F4F4] text-sm font-medium text-[#000000]">
                                    {{dashboardData?.Table[0].MisMatchedOrdersCount}}
                                </span>
                            </section>
                            <section class="flex-1 flex items-center">
                                <p class="text-xs font-medium text-[#7C7C7C]">
                                    Ready to ship
                                </p>
                                <span class="ml-auto p-1 bg-[#F4F4F4] text-sm font-medium text-[#000000]">
                                    {{dashboardData?.Table[0].ReadyToShipCount}}
                                </span>
                            </section>
                        </section>
                    </section>
                </div>
                <div class="bg-white rounded-md p-4 flex flex-col gap-y-3">
                    <h5 class="text-primary-dc text-sm font-medium">
                        Today Stats
                    </h5>
                    <section class="flex flex-col gap-y-2">
                        <section class="flex flex-row items-center gap-x-3">
                            <section class="flex-1 flex items-center">
                                <p class="text-xs font-medium text-[#7C7C7C]">
                                    Orders Received
                                </p>
                                <span class="ml-auto p-1 bg-[#F4F4F4] text-sm font-medium text-[#000000]">
                                    {{dashboardData?.Table1[0].TodayOrderReceivedCount}}
                                </span>
                            </section>
                        </section>
                        <section class="flex flex-row items-center gap-x-3">
                            <section class="flex-1 flex items-center">
                                <p class="text-xs font-medium text-[#7C7C7C]">
                                    Export Invoice generated
                                </p>
                                <span class="ml-auto p-1 bg-[#F4F4F4] text-sm font-medium text-[#000000]">
                                    {{dashboardData?.Table1[0].TodayExportInvoiceCount}}
                                </span>
                            </section>
                        </section>
                    </section>
                </div>
                <div class="bg-white rounded-md p-4 flex flex-col gap-y-3">
                    <h5 class="text-primary-dc text-sm font-medium">
                        Preorders
                    </h5>
                    <section class="flex flex-col gap-y-2">
                        <section class="flex flex-row items-center gap-x-3">
                            <section class="flex-1 flex items-center">
                                <p class="text-xs font-medium text-[#7C7C7C]">
                                    Total
                                </p>
                                <span class="ml-auto p-1 bg-[#F4F4F4] text-sm font-medium text-[#000000]">
                                    {{dashboardData?.Table2[0].TotalPreOrdersCount}}
                                </span>
                            </section>
                        </section>
                        <section class="flex flex-row items-center gap-x-3">
                            <section class="flex-1 flex items-center">
                                <p class="text-xs font-medium text-[#7C7C7C]">
                                    Expecting Today
                                </p>
                                <span class="ml-auto p-1 bg-[#F4F4F4] text-sm font-medium text-[#000000]">
                                    {{dashboardData?.Table2[0].TodayPreOrdersCount}}
                                </span>
                            </section>
                        </section>
                    </section>
                </div>
            </div>
            <div class="flex-1 relative">
                <div class="absolute top-0 left-0 right-0 bottom-0 overflow-hidden z-0">
                    <div class="relative w-full h-full overflow-auto z-10">
                        <section class="flex flex-col bg-white rounded-md h-full gap-y-3 py-4">
                            <div class="flex items-center px-4">
                                <h4 class="text-primary-dc font-medium">
                                    Stocks in hand
                                </h4>
                                <div class="ml-auto">
                                    <app-customer-search [(ngModel)]="customerId" name="customerId" [displayText]="customerName"
                                        (onSelect)="selectCustomer($event)" placeholder="select customer name"/>
                                </div>
                            </div>
                           
                            <div class="flex-1 relative">
                                <div class="absolute top-0 left-0 right-0 bottom-0 overflow-hidden z-0">
                                    <div class="relative w-full h-full overflow-auto z-10">
                                        <div class="table-responsive px-4">
                                            <table class="w-full border-collapse dashboard-table">
                                                <thead>
                                                    <tr class="sticky top-0 h-10">
                                                        <th class="px-2 text-left font-medium text-sm bg-white z-10">
                                                            Order No
                                                        </th>
                                                        <th class="px-2 text-left font-medium text-sm bg-white z-10">
                                                            Package No
                                                        </th>
                                                        <th class="px-2 text-left font-medium text-sm bg-white z-10">
                                                            Product Name
                                                        </th>
                                                        <th class="px-2 text-left font-medium text-sm bg-white z-10">
                                                            Quantity
                                                        </th>
                                                        <th class="px-2 text-left font-medium text-sm bg-white z-10">
                                                            Unit
                                                        </th>
                                                        <th class="px-2 text-left font-medium text-sm bg-white z-10">
                                                            Warehouse
                                                        </th>
                                                        <th class="px-2 text-left font-medium text-sm bg-white z-10">
                                                            Customer Name
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @for (item of dashboardData?.Table4; track $index) {
                                                        <tr class="h-10 group-[]">
                                                            <td class="text-xs px-2 text-left font-normal text-[#2b2b2b] border-b border-[#D1D1D1]">
                                                                {{item.ORDER_REF_NO}}
                                                            </td>
                                                            <td class="text-xs px-2 text-left font-normal text-[#2b2b2b] border-b border-[#D1D1D1]">
                                                                {{item.PACKAGE_NO}}
                                                            </td>
                                                            <td class="text-xs px-2 text-left font-normal text-[#2b2b2b] border-b border-[#D1D1D1]">
                                                                {{item.PRODUCT_NAME}}
                                                            </td>
                                                            <td class="text-xs px-2 text-left font-normal text-[#2b2b2b] border-b border-[#D1D1D1]">
                                                                {{item.QUANTITY}}
                                                            </td>
                                                            <td class="text-xs px-2 text-left font-normal text-[#2b2b2b] border-b border-[#D1D1D1]">
                                                                {{item.UNIT_TYPE_DESCRIPTION}}
                                                            </td>
                                                            <td class="text-xs px-2 text-left font-normal text-[#2b2b2b] border-b border-[#D1D1D1]">
                                                                {{item.WAREHOUSE_NAME}}
                                                            </td>
                                                            <td class="text-xs px-2 text-left font-normal text-[#2b2b2b] border-b border-[#D1D1D1]">
                                                                {{item.CUSTOMER_NAME}}
                                                            </td>
                                                        </tr>
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-span-1">
        <div class="flex flex-col h-full gap-y-3">
            <div class="flex-1 rounded-md bg-white p-4">
                <div class="flex flex-col h-full gap-y-3">
                    <h4 class="text-primary-dc font-medium">
                        Preorders expecting today
                    </h4>
                    <div class="flex-1 relative">
                        <div class="absolute top-0 left-0 right-0 bottom-0 overflow-hidden z-0">
                            <div class="relative w-full h-full overflow-auto z-10">
                                <div class="flex flex-col">
                                    @for (item of dashboardData?.Table3; track $index) {
                                        <article class="flex items-center border-b border-[#D1D1D1] py-3">
                                            <section class="flex flex-col gap-y-1">
                                                <h4 class="text-[#000000] font-semibold">
                                                    {{item.CUSTOMER_NAME}}
                                                </h4>
                                                <p class="text-sm text-[#333333]">
                                                    <span class="text-xs text-[#333333]">
                                                        From
                                                    </span>&nbsp;
                                                    {{item.CITY}}, {{item.COUNTRY}}
                                                </p>
                                            </section>
                                            <button class="ml-auto w-10 h-10 rounded-md inline-flex items-center justify-center">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                    <path
                                                        d="M15.1018 6.86154C15.9245 7.6842 16.3866 8.79996 16.3866 9.96337V14.6486H7.61337V9.96337C7.61337 8.79996 8.07553 7.6842 8.89819 6.86154C9.72084 6.03889 10.8366 5.57672 12 5.57672C13.1634 5.57672 14.2791 6.03888 15.1018 6.86154Z"
                                                        stroke="#333333" stroke-width="0.547" stroke-linecap="round" stroke-linejoin="round" />
                                                    <path
                                                        d="M7.05275 15.1959H16.9472C17.2552 15.1959 17.5048 15.4455 17.5048 15.7534V16.0313C17.5048 16.3393 17.2552 16.5889 16.9472 16.5889H7.05275C6.74483 16.5889 6.49521 16.3393 6.49521 16.0313V15.7534C6.49521 15.4455 6.74483 15.1959 7.05275 15.1959Z"
                                                        stroke="#333333" stroke-width="0.547" stroke-linecap="round" stroke-linejoin="round" />
                                                    <path
                                                        d="M12.7532 17.9951C12.5361 18.2839 12.2612 18.423 11.9975 18.4233C11.7345 18.4213 11.4606 18.2811 11.2446 17.9924C11.0738 17.7641 10.9571 17.4644 10.915 17.1358H13.085C13.0427 17.4657 12.9251 17.7665 12.7532 17.9951Z"
                                                        stroke="#333333" stroke-width="0.547" stroke-linecap="round" stroke-linejoin="round" />
                                                </svg>
                                            </button>
                                        </article>
                                    }
                                    
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="flex-1 rounded-md bg-white p-4">
                <div class="flex flex-col h-full gap-y-3">
                    <div class="flex items-center">
                        <h4 class="text-primary-dc font-medium">
                            Overall Orders
                        </h4>
                        <div class="ml-auto w-44">
                            <app-select-control valueType="int" [(ngModel)]="currentYear" name="currentYear" [items]="years" key="id" keyname="name" (ngModelChange)="selectYear()"></app-select-control>
                        </div>
                    </div>
                    <div class="flex-1 relative">
                        <div class="absolute top-0 left-0 right-0 bottom-0 overflow-hidden z-0">
                            <div class="relative w-full h-full overflow-auto z-10">
                                @if(isBrowser) {
                                    <canvas baseChart [data]="lineChartData" [options]="lineChartOptions" [type]="lineChartType"></canvas>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>